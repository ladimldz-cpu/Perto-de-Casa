<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PertoDeCasa</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0d47a1">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f5f9;
}

/* APP */
.app{
  max-width:480px;
  margin:auto;
  min-height:100vh;
  background:#fff;
}

/* HEADER */
.header{
  background:#0d47a1;
  color:#fff;
  padding:25px 20px;
  border-radius:0 0 25px 25px;
}

.header h1{
  margin:0;
  font-size:26px;
}

.header p{
  margin-top:5px;
  opacity:.9;
}

/* SERVI√áOS */
.services{
  padding:20px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}

.service{
  background:#e3f2fd;
  border-radius:15px;
  padding:20px;
  text-align:center;
  font-weight:bold;
  color:#0d47a1;
  cursor:pointer;
  transition:.2s;
}

.service:active{
  transform:scale(.96);
  background:#bbdefb;
}

/* LISTA */
#lista{
  grid-column:1 / -1;
  max-width:420px;
  margin:10px auto;
}

.lista-card{
  background:#fff;
  border-radius:14px;
  padding:14px;
  margin-bottom:12px;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
}

.lista-card strong{
  color:#0d47a1;
}

.bairro{
  font-size:14px;
  color:#555;
  margin:4px 0 10px;
}

.btn-whats{
  background:#25D366;
  color:#fff;
  padding:8px 14px;
  border-radius:20px;
  text-decoration:none;
  font-size:14px;
  display:inline-block;
}

/* BOT√ÉO VOLTAR (BOLA) */
#btnVoltar{
  position:fixed;
  top:16px;
  left:16px;

  width:42px;
  height:42px;
  border-radius:50%;

  background:#0d47a1;
  color:#fff;

  display:none;
  align-items:center;
  justify-content:center;

  font-size:22px;
  font-weight:bold;

  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  z-index:1000;
}

/* FOOTER */
.footer{
  text-align:center;
  font-size:13px;
  color:#777;
  padding:15px;
}
</style>
</head>

<body>


  
<!-- BOT√ÉO VOLTAR -->
<div id="btnVoltar" onclick="voltar()">‚Üê</div>

<div class="app">

  <div class="header">
    <h1>PertoDeCasa</h1>
    <p>Encontre servi√ßos perto de voc√™</p>
  
  
  </div>

  <body class="bg-casa">
  <div class="services">

    <div id="lista"></div>

<div class="service" onclick="listar('Pedreiro')">üß± Pedreiro</div>
<div class="service" onclick="listar('Eletricista')">‚ö° Eletricista</div>
<div class="service" onclick="listar('Hidr√°ulico')">üíß Hidr√°ulico</div>
<div class="service" onclick="listar('Pintor')">üé® Pintor</div>
<div class="service" onclick="listar('Diarista')">üßπ Diarista</div>
<div class="service" onclick="listar('Frete')">üöö Frete</div>
<div class="service" onclick="listar('Borracheiro')">üõ†Ô∏è Borracheiro</div>
<div class="service" onclick="listar('Mec√¢nico')">üîß Mec√¢nico</div>


  </div>

  <div class="footer">
    Servi√ßos locais ‚Ä¢ Contato direto ‚Ä¢ Sem taxa por servi√ßo
  
  <div class="slogan">
  
  <div class="termos-inline">
    <a href="termos.html" target="_blank">Termos de Uso e Condi√ß√µes</a>
  </div>
</div>

  </div>

</div>

<script>
const profissionais = {
  "Pedreiro": [
    { nome: "Jo√£o Pedreiro", bairro: "Centro", tel: "5599999999999" },
    { nome: "Carlos Obras", bairro: "Zona Norte", tel: "5598888888888" }
  ],
  "Eletricista": [
    { nome: "Marcos El√©trica", bairro: "Centro", tel: "5597777777777" }
  ],
  "Diarista": [
    { nome: "Maria Limpeza", bairro: "Zona Sul", tel: "5596666666666" }
  ],
  "Pintor": [],
  "Frete": [],
  "Borracheiro": [],
  "Mec√¢nico": []
};

function listar(servico){
  const lista = document.getElementById("lista");
  const btn = document.getElementById("btnVoltar");

  btn.style.display = "flex";
  lista.innerHTML = `<h3 style="text-align:center">${servico} perto de voc√™</h3>`;

  if(profissionais[servico].length === 0){
    lista.innerHTML += "<p style='text-align:center'>Nenhum profissional cadastrado.</p>";
    return;
  }

  profissionais[servico].forEach(p => {
    const msg = `Ol√°, encontrei voc√™ no app PertoDeCasa e preciso de um ${servico}.`;
    const link = `https://wa.me/${p.tel}?text=${encodeURIComponent(msg)}`;

    lista.innerHTML += `
      <div class="lista-card">
  <strong>${p.nome}</strong>
  <div class="bairro">üìç ${p.bairro}</div>
<a href="${link}" target="_blank" class="btn-whats">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
       width="20" height="20" style="vertical-align:middle;margin-right:6px">
  Chamar no WhatsApp
</a>

</div>

    `;
  });
}

function voltar(){
  document.getElementById("lista").innerHTML = "";
  document.getElementById("btnVoltar").style.display = "none";
}
</script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js')
    .then(() => console.log('Service Worker registrado!'))
    .catch(err => console.log('Erro SW:', err));
}
</script>

</body>
</html>
